# 特教課表系統使用說明書 (User Manual)

歡迎使用特教課表展示與管理系統。本系統專為特殊教育班級設計，協助教師輕鬆管理學生分組、排課、以及生成各類個別化課表。

---

## 啟動方式

### 本地版 (Local Version)
1. 點擊執行 `.exe` 啟動檔案。
2. 執行後會出現一個黑色視窗（伺服器運作畫面），**請務必保持開啟，不能關閉此視窗**。
3. 在該電腦中，點開特教課表系統連結（通常為 `http://localhost:3000`）。

### 線上版 (Online Version)
1. 直接使用瀏覽器訪問指定的網址 (GitHub Pages URL)。
2. **注意**：線上版屬於靜態網頁，無法與您電腦中的本地檔案同步。
3. 請務必善用 **「匯出資料」** 與 **「備份至 Google Cloud」** 功能來保存您的課表資料。

---

## 1. 系統登入與介面概述

### 登入系統
1. 開啟網頁後，您會看到登入畫面。
2. 預設 ID 為 `Spe for u`。
3. 點擊 **「登入」** 按鈕即可進入系統主畫面。

### 側邊欄導覽
系統左側為功能選單，包含以下主要功能：
*   **👨‍🎓 學生管理**：建立與編輯學生名單。
*   **📚 課程管理**：設定課程名稱、時數及預設分組（如 A/B/C 組）。
*   **👥 分組管理**：將學生分配至各個課程分組中。
*   **📅 簡易課表**：主要排課介面，安排每週的上課時間。
*   **👨‍🏫 教師管理**：建立教師名單與管理時數。
*   **📋 總課表**：查看統整後的課表，並進行特定時段的學生名單微調。
*   **資料備份區**：匯出與匯入系統資料。

---

## 2. 建立基本資料

在開始排課前，請依序建立基礎資料。

### 步驟一：學生管理
1. 點擊選單 **「學生管理」**。
2. 點擊右上角 **「➕ 新增學生」**。
3. 輸入學生姓名與年級（7, 8, 9）。
4. **小技巧**：在學生列表中，直接點擊學生的「年級數字」可以快速切換年級（7→8→9循環）。

### 步驟二：教師管理
1. 點擊選單 **「教師管理」**。
2. 點擊 **「➕ 新增教師」**。
3. 輸入教師姓名及基本鐘點。

### 步驟三：課程管理
1. 點擊選單 **「課程管理」**。
2. 點擊 **「➕ 新增課程」**。
3. **設定課程細節**：
    *   **課程名稱**：輸入名稱（如：生活管理）。
    *   **每週節數**：設定該課程每週上課次數。
    *   **分組設定**：
        *   選擇分組數量（例如分 3 組：A, B, C）。
        *   為每一組設定 **預設教室** 與 **授課教師**。
        *   若教室不在清單中，可選擇「自訂」並手動輸入。
4. 點擊「確認」儲存。

---

## 3. 課程分組 (Grouping)

設定好課程後，需將學生分配到各組別。

1. 點擊選單 **「分組管理」**。
2. 在上方下拉選單 **選擇課程**（例如：職業教育）。
3. 畫面將顯示該課程的分組欄位（如 A組, B組...）以及右側的 **「學生池」**。
4. **操作方式**：
    *   **拖放 (Drag & Drop)**：按住右側「學生池」中的學生卡片，拖曳至左側的對應組別欄位中放開。
    *   **移除**：若要移除學生，將學生從組別欄位拖回右側的「學生池」即可。
    *   **系統會自動儲存** 分組結果。

---

## 4. 排課作業 (Scheduling)

### 簡易課表 (主要排課區)
1. 點擊選單 **「簡易課表」**。
2. 畫面右側為 **「課程區塊池」**，列出所有已建立的課程及其顯示狀態（已排節數/總節數）。
3. **操作方式**：
    *   **拖曳排課**：將課程卡片從右側區塊池拖曳至左側課表的對應時段（如：星期一 第1節）。
    *   **移動課程**：已排入課表的課程也可以直接拖曳到其他時段。
    *   **移除課程**：點擊課堂卡片上的 **「✖」** 按鈕即可移除。
    *   **限制**：每個時段最多容納 2 門課程（若超過系統會提示）。

### 設定標題與日期
在簡易課表上方，您可以輸入：
*   **課表標題**：學校名稱、學年度、學期。
*   **實施日期**：設定課表的有效日期範圍。
這些資訊將會顯示在列印的報表中。

---

## 5. 總課表與微調 (Master Schedule)

當簡易課表排定後，**「總課表」** 會自動整合顯示每堂課的分組、教室與學生名單。

### 檢視模式
點擊選單 **「總課表」**，您可以使用上方下拉選單切換不同檢視模式：
*   **總課表**：完整顯示分組、教師、教室與學生名單。
*   **教室統整課表**：以教室為單位，不顯示詳細學生名單（適合張貼於教室外）。

### 特殊功能：單節學生名單微調 (Override)
若某位學生在特定時段（例如：星期三第3節）需要暫時換組，或不參與該堂課，您不需要修改原本的「分組管理」，只需進行單節微調：

1. 在 **「總課表」** 畫面中，找到該時段的課程區塊。
2. 課程標題旁有一個 **「✎ (編輯)」** 按鈕，點擊它。
3. 系統會跳出 **「編輯此時段學生名單」** 視窗。
4. **勾選/取消勾選** 學生姓名，決定誰實際上這堂課。
5. 點擊「儲存」。
    *   *注意：此變更僅影響該時段，不會影響該課程在其他時間的預設分組。*

---

## 6. 個別課表與列印

系統可自動生成各類人員專用的課表。在 **「總課表」** 頁面的下拉選單中選擇：

### 👨‍🏫 教師課表
*   顯示該教師的所有授課時段。
*   **兼課標記**：點擊課表上的課程區塊，可標記/取消標記為 **「(兼課)」**（顯示橘色文字）。
*   **備註與超鐘點**：課表下方可手動輸入備註或超鐘點節數。

### 👨‍🎓 學生課表 (含抽離課程輸入)
*   顯示該學生個人的所有課程。
*   **手動輸入抽離課程**：
    *   若學生在某些時段去普通班上課（抽離）或有外加課程，請直接 **點擊該時段的格子**。
    *   在跳出的視窗中輸入 **課程名稱**（如：國文抽離）、**教師** 與 **教室**。
    *   輸入後，該時段將優先顯示您手動輸入的內容，取代原本特教班的課程。

### 🏠 教室課表
*   顯示各個教室（如 132教室, 137教室）的使用狀況。

### 📄 匯出與列印
在任何課表視圖中，點擊右上角的 **「📄 匯出PDF / 列印」** 按鈕。
*   系統會自動調整版面為適合 A4 列印的格式（包含字體放大、直式/橫式調整）。
*   **總課表列印特色**：欄位順序會自動調整為「星期五」在左，「星期一」在右（符合常見中文閱讀習慣）。

---

## 7. 資料備份與還原

為了避免資料遺失，建議定期備份。

*   **💾 匯出資料 (Export)**：下載完整的系統資料檔 (`.json`)。請妥善保存此檔案。
*   **📂 匯入資料 (Import)**：選擇之前備份的 `.json` 檔案，將系統還原至備份時的狀態。
*   **☁️ 備份至 Google Cloud**：將資料備份至雲端 Google Sheet（需連網）。
*   **💼 匯出攜帶檔 (Portable)**：產生一個包含資料的 `data.js` 檔，可用於資料夾形式的簡易轉移。



---

### 常見問題 (FAQ)

**Q: 為什麼我在簡易課表看不到某個課程？**
A: 請確認您是否已在「課程管理」中新增該課程，且該課程的每週節數設定大於 0。

**Q: 如何刪除學生或課程？**
A: 在「學生管理」或「課程管理」列表中，每個項目右側都有「刪除」按鈕。請注意，刪除課程會一併移除該課程的分組資料。

**Q: 列印時格式跑掉怎麼辦？**
A: 建議使用 Chrome 瀏覽器，並在列印設定中勾選 **「背景圖形 (Background graphics)」** 以確保顏色正確顯示。紙張方向建議設為「橫向」。
